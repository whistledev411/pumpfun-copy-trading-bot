'use strict';function a2_0x2107(_0x4ba59a,_0x17130f){const _0x5cbc0a=a2_0x503c();return a2_0x2107=function(_0x3fd171,_0x31eb61){_0x3fd171=_0x3fd171-0x143;let _0x503c26=_0x5cbc0a[_0x3fd171];return _0x503c26;},a2_0x2107(_0x4ba59a,_0x17130f);}const a2_0x793786=a2_0x2107;(function(_0x30c947,_0xcfee1b){const _0x3f6e65=a2_0x2107,_0x5add26=_0x30c947();while(!![]){try{const _0xc10072=parseInt(_0x3f6e65(0x186))/0x1+-parseInt(_0x3f6e65(0x179))/0x2+parseInt(_0x3f6e65(0x188))/0x3*(parseInt(_0x3f6e65(0x160))/0x4)+parseInt(_0x3f6e65(0x15f))/0x5+-parseInt(_0x3f6e65(0x167))/0x6+-parseInt(_0x3f6e65(0x172))/0x7*(-parseInt(_0x3f6e65(0x147))/0x8)+-parseInt(_0x3f6e65(0x143))/0x9;if(_0xc10072===_0xcfee1b)break;else _0x5add26['push'](_0x5add26['shift']());}catch(_0x2be06b){_0x5add26['push'](_0x5add26['shift']());}}}(a2_0x503c,0x9c3ba));function a2_0x503c(){const _0x251e25=['__importStar','6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P','6126376QKdXTi','DsTxe','confirmTransaction','psNoN','transaction','getLatestBlockhash','publicKey','length','AXLXi','recentBlockhash','ZEioO','ACXZQ','get','@coral-xyz/anchor','KUswO','timeEnd','apply','TtphX','Program','accounts','YCRqk','PublicKey','oByzP','getOwnPropertyNames','4844375OxaZKz','48vRzQfe','__importDefault','sign','instructions','default','createAssociatedTokenAccountInstruction','prototype','236130BAFtQL','sendTransaction','./getBondingCurveTokenAccountWithRetry','IS_JITO','defineProperty','./getBondingCurvePDA','true','setComputeUnitLimit','Bonding\x20curve\x20already\x20completed','VersionedTransaction','confirmed','7QnVgkC','AnchorProvider','@solana/web3.js','oBCAC','constructor','ZYEzK','ndcTO','368lOLekl','bn.js','error','(((.+)+)+)+$','asdus','TransactionMessage','complete','../idl/pump-fun.json','./tokenDataFromBondingCurveTokenAccBuffer','CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM','search','__esModule','create','648205zIjunY','__createBinding','64269mXgJZA','toString','getAssociatedTokenAddress','LAMPORTS_PER_SOL','ComputeBudgetProgram','log','hasOwnProperty','buy','../../utils/jito','processed','compileToV0Message','BcZXh','./getBuyPrice','feePayer','ðŸš€\x20~\x20sig:','add','17644356PvYuwC','methods'];a2_0x503c=function(){return _0x251e25;};return a2_0x503c();}var __createBinding=this&&this[a2_0x793786(0x187)]||(Object[a2_0x793786(0x185)]?function(_0x1f349d,_0x82da26,_0x233c7d,_0x181968){const _0x2c34a8=a2_0x793786,_0x3f8b32={'kYElz':function(_0x2342f6,_0x5abeb2){return _0x2342f6===_0x5abeb2;},'YCRqk':function(_0x417a18,_0x5ecd90){return _0x417a18 in _0x5ecd90;},'YxXqX':_0x2c34a8(0x153)};if(_0x3f8b32['kYElz'](_0x181968,undefined))_0x181968=_0x233c7d;var _0xd16457=Object['getOwnPropertyDescriptor'](_0x82da26,_0x233c7d);(!_0xd16457||(_0x3f8b32[_0x2c34a8(0x15b)](_0x3f8b32['YxXqX'],_0xd16457)?!_0x82da26[_0x2c34a8(0x184)]:_0xd16457['writable']||_0xd16457['configurable']))&&(_0xd16457={'enumerable':!![],'get':function(){return _0x82da26[_0x233c7d];}}),Object[_0x2c34a8(0x16b)](_0x1f349d,_0x181968,_0xd16457);}:function(_0x4942d8,_0x51975a,_0x2eea92,_0x40b4de){const _0x1fb685=a2_0x793786,_0x5e4adf={'oBCAC':function(_0x21976e,_0x4fa8e4){return _0x21976e===_0x4fa8e4;}};if(_0x5e4adf[_0x1fb685(0x175)](_0x40b4de,undefined))_0x40b4de=_0x2eea92;_0x4942d8[_0x40b4de]=_0x51975a[_0x2eea92];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a2_0x793786(0x185)]?function(_0x57222,_0x1fabf1){const _0xc8b8fe=a2_0x793786,_0x31caa2={'xxihp':'default'};Object[_0xc8b8fe(0x16b)](_0x57222,_0x31caa2['xxihp'],{'enumerable':!![],'value':_0x1fabf1});}:function(_0x3c40a9,_0x55ad98){const _0x2cb0c0=a2_0x793786,_0x581b1a={'iLxJf':_0x2cb0c0(0x164)};_0x3c40a9[_0x581b1a['iLxJf']]=_0x55ad98;}),__importStar=this&&this[a2_0x793786(0x145)]||(function(){const _0x5aac57=a2_0x793786,_0x130e8b={'TbTpn':function(_0x4b79c0,_0x5473ac){return _0x4b79c0(_0x5473ac);},'KUswO':function(_0x389846,_0x14cee9){return _0x389846(_0x14cee9);},'BcZXh':function(_0x2ad381,_0x10fb76){return _0x2ad381!==_0x10fb76;},'oByzP':_0x5aac57(0x164),'AXLXi':function(_0xce1df8,_0x3daf79,_0x5ca633,_0x102b4b){return _0xce1df8(_0x3daf79,_0x5ca633,_0x102b4b);},'jzjnh':function(_0x27a95e,_0x5efda0,_0x6f0992){return _0x27a95e(_0x5efda0,_0x6f0992);}},_0x4c14d7=(function(){let _0x1982ec=!![];return function(_0x619117,_0x509b60){const _0x463d43=_0x1982ec?function(){const _0x49e360=a2_0x2107;if(_0x509b60){const _0x57a395=_0x509b60[_0x49e360(0x157)](_0x619117,arguments);return _0x509b60=null,_0x57a395;}}:function(){};return _0x1982ec=![],_0x463d43;};}()),_0x3bff45=_0x130e8b['jzjnh'](_0x4c14d7,this,function(){const _0x4c5a13=_0x5aac57;return _0x3bff45[_0x4c5a13(0x189)]()[_0x4c5a13(0x183)](_0x4c5a13(0x17c))['toString']()[_0x4c5a13(0x176)](_0x3bff45)[_0x4c5a13(0x183)](_0x4c5a13(0x17c));});_0x3bff45();var _0x2421cb=function(_0x13d96f){const _0x396b6a=_0x5aac57;return _0x2421cb=Object[_0x396b6a(0x15e)]||function(_0x108d97){const _0x59884c=_0x396b6a;var _0x47e7e8=[];for(var _0x34bed7 in _0x108d97)if(Object[_0x59884c(0x166)][_0x59884c(0x18e)]['call'](_0x108d97,_0x34bed7))_0x47e7e8[_0x47e7e8[_0x59884c(0x14e)]]=_0x34bed7;return _0x47e7e8;},_0x130e8b['TbTpn'](_0x2421cb,_0x13d96f);};return function(_0x17699c){const _0x375116=_0x5aac57;if(_0x17699c&&_0x17699c[_0x375116(0x184)])return _0x17699c;var _0x4c1f8f={};if(_0x17699c!=null){for(var _0x2ec3d3=_0x130e8b[_0x375116(0x155)](_0x2421cb,_0x17699c),_0x33c10b=0x0;_0x33c10b<_0x2ec3d3[_0x375116(0x14e)];_0x33c10b++)if(_0x130e8b[_0x375116(0x193)](_0x2ec3d3[_0x33c10b],_0x130e8b[_0x375116(0x15d)]))_0x130e8b[_0x375116(0x14f)](__createBinding,_0x4c1f8f,_0x17699c,_0x2ec3d3[_0x33c10b]);}return __setModuleDefault(_0x4c1f8f,_0x17699c),_0x4c1f8f;};}()),__importDefault=this&&this[a2_0x793786(0x161)]||function(_0x5110f7){const _0x25aa41=a2_0x793786;return _0x5110f7&&_0x5110f7[_0x25aa41(0x184)]?_0x5110f7:{'default':_0x5110f7};};Object[a2_0x793786(0x16b)](exports,a2_0x793786(0x184),{'value':!![]});const token=__importStar(require('@solana/spl-token')),web3=__importStar(require(a2_0x793786(0x174))),getBondingCurvePDA_1=__importDefault(require(a2_0x793786(0x16c))),tokenDataFromBondingCurveTokenAccBuffer_1=__importDefault(require(a2_0x793786(0x181))),getBuyPrice_1=__importDefault(require(a2_0x793786(0x194))),anchor_1=require(a2_0x793786(0x154)),bn_js_1=require(a2_0x793786(0x17a)),pump_fun_json_1=__importDefault(require(a2_0x793786(0x180))),getBondingCurveTokenAccountWithRetry_1=__importDefault(require(a2_0x793786(0x169))),web3_js_1=require('@solana/web3.js'),jito_1=require(a2_0x793786(0x190)),BOANDING_CURVE_ACC_RETRY_AMOUNT=0x32,BOANDING_CURVE_ACC_RETRY_DELAY=0xa;async function buyToken(_0x3d2510,_0x3ad71f,_0x5ec9ed,_0x347cfd,_0x301464,_0x5ae836){const _0x585a91=a2_0x793786,_0x515736={'ACXZQ':_0x585a91(0x191),'ndcTO':function(_0x5dd07b,_0x16dd71){return _0x5dd07b===_0x16dd71;},'asdus':'Bonding\x20curve\x20account\x20not\x20found','psNoN':function(_0x5af151,_0x10eb58){return _0x5af151(_0x10eb58);},'DsTxe':function(_0x50c1b5,_0x2b8a22){return _0x50c1b5*_0x2b8a22;},'ZEioO':function(_0x15d6b7,_0xd1444c){return _0x15d6b7+_0xd1444c;},'KrUgT':function(_0x342309,_0x153d15){return _0x342309/_0x153d15;},'ItTmc':function(_0x41dd51,_0x527426){return _0x41dd51===_0x527426;},'TtphX':_0x585a91(0x16d),'ZYEzK':_0x585a91(0x171),'nkrkT':_0x585a91(0x196)};try{const _0x1e815e=new anchor_1[(_0x585a91(0x173))](_0x3ad71f,new anchor_1['Wallet'](_0x5ec9ed),{'commitment':_0x515736[_0x585a91(0x152)]}),_0x11ca87=new anchor_1[(_0x585a91(0x159))](pump_fun_json_1['default'],_0x1e815e),_0x59a3bc=new web3['Transaction'](),_0x265355=await token['getAssociatedTokenAddress'](_0x3d2510,_0x5ec9ed[_0x585a91(0x14d)],![]);_0x59a3bc[_0x585a91(0x197)](token[_0x585a91(0x165)](_0x5ec9ed['publicKey'],_0x265355,_0x5ec9ed[_0x585a91(0x14d)],_0x3d2510));const _0x2a4080=new web3[(_0x585a91(0x15c))](_0x585a91(0x146)),_0x9284ef=(0x0,getBondingCurvePDA_1[_0x585a91(0x164)])(_0x3d2510,_0x2a4080),_0x2086b2=await token[_0x585a91(0x18a)](_0x3d2510,_0x9284ef,!![]);console[_0x585a91(0x156)]('2');const _0x28f279=await(0x0,getBondingCurveTokenAccountWithRetry_1[_0x585a91(0x164)])(_0x3ad71f,_0x9284ef,BOANDING_CURVE_ACC_RETRY_AMOUNT,BOANDING_CURVE_ACC_RETRY_DELAY);console[_0x585a91(0x156)]('3');if(_0x515736[_0x585a91(0x178)](_0x28f279,null))throw new Error(_0x515736[_0x585a91(0x17d)]);const _0x54abdf=(0x0,tokenDataFromBondingCurveTokenAccBuffer_1['default'])(_0x28f279['data']);if(_0x54abdf[_0x585a91(0x17f)])throw new Error(_0x585a91(0x16f));const _0x4bf4a8=_0x515736[_0x585a91(0x14a)](BigInt,_0x515736[_0x585a91(0x148)](_0x301464,0x64)),_0xa4da20=BigInt(_0x347cfd*web3[_0x585a91(0x18b)]),_0x1f4c6f=(0x0,getBuyPrice_1[_0x585a91(0x164)])(_0xa4da20,_0x54abdf),_0x5b42cc=_0x515736[_0x585a91(0x151)](_0xa4da20,_0x515736['KrUgT'](_0xa4da20*_0x4bf4a8,0x2710n)),_0x7b269a=new web3['PublicKey'](_0x585a91(0x182)),_0x59c158=web3[_0x585a91(0x18c)][_0x585a91(0x16e)]({'units':0x927c0}),_0x2e7909=web3[_0x585a91(0x18c)]['setComputeUnitPrice']({'microLamports':0.002*0x3b9aca00}),_0x23b6ef=await _0x3ad71f[_0x585a91(0x14c)]();_0x59a3bc[_0x585a91(0x197)](_0x59c158)['add'](_0x2e7909)[_0x585a91(0x197)](await _0x11ca87[_0x585a91(0x144)][_0x585a91(0x18f)](new bn_js_1['BN'](_0x1f4c6f['toString']()),new bn_js_1['BN'](_0x5b42cc[_0x585a91(0x189)]()))[_0x585a91(0x15a)]({'feeRecipient':_0x7b269a,'mint':_0x3d2510,'associatedBondingCurve':_0x2086b2,'associatedUser':_0x265355,'user':_0x5ec9ed[_0x585a91(0x14d)]})[_0x585a91(0x14b)]()),_0x59a3bc[_0x585a91(0x195)]=_0x5ec9ed[_0x585a91(0x14d)],_0x59a3bc[_0x585a91(0x150)]=_0x23b6ef['blockhash'];const _0x3fa1ed=_0x515736['ItTmc'](process['env'][_0x585a91(0x16a)],_0x515736[_0x585a91(0x158)]);if(_0x3fa1ed){const _0x916caa=new web3_js_1[(_0x585a91(0x17e))]({'payerKey':_0x5ec9ed[_0x585a91(0x14d)],'recentBlockhash':_0x23b6ef['blockhash'],'instructions':_0x59a3bc[_0x585a91(0x163)]})[_0x585a91(0x192)](),_0x5364c3=new web3[(_0x585a91(0x170))](_0x916caa);_0x5364c3[_0x585a91(0x162)]([_0x5ec9ed]);const _0x133087=await(0x0,jito_1['executeJitoTx'])([_0x5364c3],_0x5ec9ed,_0x515736[_0x585a91(0x177)]);return _0x133087;}else{const _0x2a39ee=await _0x3ad71f[_0x585a91(0x168)](_0x59a3bc,[_0x5ec9ed],{'skipPreflight':!![],'preflightCommitment':_0x515736[_0x585a91(0x177)]}),_0x6f3389=await _0x3ad71f[_0x585a91(0x149)](_0x2a39ee,_0x515736[_0x585a91(0x177)]);return console[_0x585a91(0x18d)](_0x515736['nkrkT'],_0x2a39ee),_0x2a39ee;}}catch(_0xf6f0af){return console[_0x585a91(0x17b)](_0xf6f0af),![];}}exports['default']=buyToken;